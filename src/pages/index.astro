---
import MotoListReact from "../components/MotoListReact";
import Layout from "../layouts/Layout.astro";
import { brandsService } from "../services/api/brands.service";
import { categoriesService } from "../services/api/categories.service";
import { motoService } from "../services/api/moto.service";

// Fetch all data at build time
const [brands, categories, motos] = await Promise.all([
  brandsService.getBrands(),
  categoriesService.getCategories(),
  motoService.getMotos(),
]);
---

<Layout title="Catalogo de motos | Global Go">
  <MotoListReact 
    client:load 
    initialBrands={brands}
    initialCategories={categories}
    initialMotos={motos}
  />
</Layout>
